<!doctype html>
<html>
	<head>
		<title>FabricJS Example</title>
		<style type="text/css">
			body {
				margin: 0;
				padding: 0;
				color: rgb(200,200,200);
				background: rgb(0,0,0);
			}
			#wrap {
				width: 500px;
			}
			#output {
				word-wrap: break-word;
			}
		</style>
	</head>
	<body>
		
		<div id="wrap">
			<button id="toJSONButton">Export to JSON</button>
			<canvas id="canvas" width="500" height="300"></canvas>
			<div id="output"></div>
		</div>
		
	</body>
	<script type="text/javascript" src="js/libs/fabric/all.js"></script>
		<script type="text/javascript">
			var canvas, dot, toJSONButton;
			window.onload = function() {
				canvas = new fabric.Canvas('canvas');
				dot = new fabric.Circle({
					left: 100,
					top: 100,
					radius: 20,
					fill: "#ffcc66",
					stroke: "#666666",
					strokeWidth: 3
				});
				canvas.add(dot);

				toJSONButton = document.getElementById("toJSONButton");
				toJSONButton.addEventListener('click', function(event) {
					var json = canvas.toJSON();
					json = JSON.stringify(json);
					var container = document.querySelector("#output");
					container.innerHTML = json;
				}, false);
			}
		</script>
</html>